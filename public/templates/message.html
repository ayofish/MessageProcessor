<!-- edit note modal-->
<div class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-header-primary">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="vm.hide()">&times;</button>
                <h4 class="modal-title" id="myModalLabel">{{vm.messageSubject}}</h4>
                <p><b>to:</b> {{vm.messageName}}</p>
            </div>
            <div class="modal-body">
                <p ng-if="vm.processed">
                    {{vm.messageText}}
                </p>
                <div ng-if="!vm.processed">
                <!-- child birth -->
                    <form class="form" ng-if='vm.isBirthOfBaby' name='babybirth'>
                        <fieldset>
                            <!-- Form Name -->
                            <div class="form-group">
                                <label for="babyname">baby name:</label>
                                <select id="babyname" class="form-control" ng-model="vm.babyName" ng-options="babyName for babyName in vm.babyNames">
                                </select>
                                <p class="bg-danger" ng-if="vm.babyNameError">Please select a baby name</p>
                            </div>
                            <div class="form-group">
                                <label>birth date:</label>
                                <p class="input-group">
                                    <input onkeydown="return false" type="text" class="form-control" uib-datepicker-popup="dd-MMMM-yyyy" ng-model="vm.babyBirthDay" is-open="vm.datePickerOpened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                                    <span class="input-group-btn">
                                    <button type="button" class="btn btn-default" ng-click="vm.openDatePicker()"><i class="glyphicon glyphicon-calendar"></i></button>
                                </span>
                                </p>
                                <p class="bg-danger" ng-if="vm.babyBirthDayError">Please select a date</p>
                            </div>
                        </fieldset>
                    </form>
                    <!-- birthday wish -->
                    <form class="form" ng-if='vm.isBirthdayWish' name='birthdaywish'>
                        <fieldset>
                            <!-- Form Name -->
                            <div class="form-group">
                                <label for="babyname">choose a gift</label>
                                <div class="well clearfix" ng-repeat="gift in vm.gifts">
                                    <div class="media">
                                        <div class="pull-left">
                                            <img class="media-object" src="http://placehold.it/100x100">
                                        </div>
                                        <div class="media-body">
                                            <h4 class="media-heading">{{gift.title}}</h4>
                                            <p>{{gift.description}}</p>
                                        </div>
                                    </div>
                                    <div class="pull-right">
                                         <button class="btn btn-primary" ng-click="vm.selectGift(gift)">select</button>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>
            </div>
            <div class="modal-footer" ng-if="!vm.processed">
                <button class="btn btn-primary" ng-if='vm.isBirthOfBaby' ng-click="vm.process()">process message</button>
                <button data-dismiss="modal" class="btn btn-warning" ng-click="vm.hide()">cancel</button>
            </div>
            <div class="modal-footer" ng-if="vm.processed">
                <button data-dismiss="modal" class="btn btn-primary" ng-click="vm.hide()">close</button>
            </div>
        </div>
    </div>
</div>
